#include "melody.h"
#include <stdint.h>
extern void play_note(float freq,uint16_t duration);

// Melody array
const melody_s mary_lamb_melody[MARY_LAMB_LENGTH] = {
    {329.63, 1.0}, {293.66, 1.0}, {261.63, 1.0}, {293.66, 1.0}, {329.63, 1.0}, {329.63, 1.0}, {329.63, 1.2},
    {293.66, 1.0}, {293.66, 1.0}, {293.66, 1.2}, {329.63, 1.0}, {392.00, 1.0}, {392.00, 1.2},
    {329.63, 1.0}, {293.66, 1.0}, {261.63, 1.0}, {293.66, 1.0}, {329.63, 1.0}, {329.63, 1.0}, {329.63, 1.0},
    {293.66, 1.0}, {293.66, 1.0}, {329.63, 1.0}, {293.66, 1.0}, {261.63, 1.2}
};

void play_melody(const melody_s* mel,int len)
{
	for(int i=0;i<len;i++)
	{
		play_note(mel->note_freq , mel->seconds * 1000 );
	}
}
